@page "/events"
@inherits BasePage
@using Churchee.Module.Events.Features.Queries
@using MediatR
@using Radzen
@using Microsoft.AspNetCore.Components.Sections

<PageName Name="Events"></PageName>

@if (events != null)
{
    <RadzenDataList Data="@events" TItem="GetListingQueryResponseItem">
        <Template Context="item">
            <div>@item.Title</div>
        </Template>
    </RadzenDataList>
}

@code {
    IEnumerable<GetListingQueryResponseItem>? events;

    protected override async Task OnInitializedAsync()
    {
        var result = await Mediator.Send(new GetListingQuery());
        events = result;
    }
}
